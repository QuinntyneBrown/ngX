angular.module("ngX",["ngRoute"]);var ngX;!function(e){e.appModuleName="app"}(ngX||(ngX={}));var ngX;!function(e){e.Component=function(e){if(e.module=e.module||"app",e.selector){var n=e.selector.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),t={controllerAs:"vm",controller:e.componentName||n+"Component",restrict:e.restrict||"E",template:e.template,templateUrl:e.templateUrl,replace:e.replace||!0,scope:e.scope||{},transclude:e.transclude};angular.module(e.module).directive(n,[function(){return t}]),e.component.$inject=e.providers,angular.module(e.module).controller(e.componentName||n+"Component",e.component)}else e.dynamic?(e.component.$inject=e.providers,angular.module(e.module).service(e.componentName,e.component)):(e.component.$inject=e.providers,angular.module(e.module).controller(e.componentName,e.component),e.component.canActivate&&angular.module(e.module).config(["routeResolverServiceProvider",function(n){n.configure({route:e.route,routes:e.routes,key:e.key,promise:e.component.canActivate()})}]))}}(ngX||(ngX={}));var ngX;!function(e){e.Configure=function(n){n.templateMappingFn&&(e.getTemplateUrlFromComponentName=n.templateMappingFn),n.appModuleName&&(e.appModuleName=n.appModuleName)}}(ngX||(ngX={}));var ngX;!function(e){e.getTemplateUrlFromComponentName=function(n){var t=n.componentName.replace(/\W+/g,".").replace(/([a-z\d])([A-Z])/g,"$1.$2")+".html";return t=t.toLowerCase(),n.moduleName?"/src/"+n.moduleName+"/components/"+t:"/src/"+e.appModuleName+"/components/"+t}}(ngX||(ngX={}));var ngX;!function(e){"use strict";var n=function(){function e(){var e=this;this.configure=function(n){e._routePromises.push(n)},this.$get=["$injector","$q",function(n,t){return{resolve:function(o,r){e.routeParams=r;var a=t.defer(),u={},i=e.getRoutePromisesByRouteName(o);if(i.length<1)return t.when(!0);var c=e.reduceRoutePromisesByPriority(i);return e.invoke(n,t,c,0,function(){a.resolve(u)},u),a.promise}}}],this._routePromises=[],this.getRoutePromisesByRouteName=function(n){return e._routePromises.filter(function(e){return e.route?e.route===n:e.routes?e.routes.indexOf(n)>-1:!0})},this.reduceRoutePromisesByPriority=function(e){var n=[],t=[];return e.forEach(function(e){n.indexOf(e.priority)<0&&n.push(e.priority)}),n.forEach(function(o,r){t.push({promises:e.filter(function(e){return e.priority==o}),priority:o,isLast:r==n.length-1})}),t},this.invoke=function(n,t,o,r,a,u){var i=[],c=o[r];c.promises.forEach(function(e){i.push(n.invoke(e.promise))}),t.all(i).then(function(i){i.forEach(function(e,n){c.promises[n].key&&(u[c.promises[n].key]=i[n])}),c.isLast?a():e.invoke(n,t,o,r+1,a,u)})}}return Object.defineProperty(e.prototype,"routePromises",{get:function(){return this._routePromises.sort(function(e,n){return e.priority-n.priority})},enumerable:!0,configurable:!0}),e}();e.RouteResolverServiceProvider=n,angular.module("ngX").provider("routeResolverService",[n]).config(["$routeProvider",function(n){var t=n.when;n.when=function(){if(arguments[1]&&arguments[0]){var o=arguments[0];arguments[1].templateUrl=arguments[1].componentTemplateUrl||arguments[1].templateUrl,arguments[1].controller=arguments[1].componentName||arguments[1].controller,arguments[1].controllerAs="vm",arguments[1].componentName&&!arguments[1].templateUrl&&(arguments[1].templateUrl=e.getTemplateUrlFromComponentName({moduleName:arguments[1].moduleName,componentName:arguments[1].componentName})),arguments[1].resolve={routeData:["routeResolverService",function(e){return e.resolve(o)}]}}return t.apply(n,arguments),n}}]).run(["$injector","$location","$rootScope",function(e,n,t){t.$on("$viewContentLoaded",function(){var n=e.get("$route"),t=n.current.scope[n.current.controllerAs];t.onInit&&t.onInit()}),t.$on("$routeChangeStart",function(e,t,o){var r=o&&o.controllerAs?o.scope[o.controllerAs]:null;r&&r.canDeactivate&&!r.deactivated?(e.preventDefault(),r.canDeactivate().then(function(e){e&&(r.deactivated=!0,n.path(t.originalPath))})):r&&r.deactivate&&r.deactivate()})}])}(ngX||(ngX={}));